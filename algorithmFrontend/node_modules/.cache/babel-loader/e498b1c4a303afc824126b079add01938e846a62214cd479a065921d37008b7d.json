{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { EditPen, Collection, Reading, Document, User, Delete } from '@element-plus/icons-vue';\nimport { ElMessage } from 'element-plus';\nexport default {\n  name: 'AppHeader',\n  components: {\n    EditPen,\n    Collection,\n    Reading,\n    Document,\n    User,\n    Delete\n  },\n  data() {\n    return {\n      username: '用户'\n    };\n  },\n  created() {\n    const userInfoStr = localStorage.getItem('user_info');\n    if (userInfoStr) {\n      try {\n        const userInfo = JSON.parse(userInfoStr);\n        this.username = userInfo.username || '用户';\n      } catch (e) {\n        console.error('解析用户信息失败:', e);\n      }\n    }\n  },\n  methods: {\n    handleCommand(command) {\n      if (command === 'logout') {\n        this.handleLogout();\n      }\n    },\n    handleLogout() {\n      localStorage.removeItem('access_token');\n      localStorage.removeItem('refresh_token');\n      localStorage.removeItem('user_info');\n      ElMessage.success('已退出登录');\n      this.$router.push('/login');\n    }\n  }\n};","map":{"version":3,"names":["EditPen","Collection","Reading","Document","User","Delete","ElMessage","name","components","data","username","created","userInfoStr","localStorage","getItem","userInfo","JSON","parse","e","console","error","methods","handleCommand","command","handleLogout","removeItem","success","$router","push"],"sources":["/var/www/AlgorithmWeb/algorithmFrontend/src/components/AppHeader.vue"],"sourcesContent":["<template>\n  <div class=\"header-container\">\n    <!-- 右上角用户区域 -->\n    <div class=\"user-area\">\n      <el-dropdown trigger=\"click\" @command=\"handleCommand\">\n        <div class=\"user-info\">\n          <el-icon><User /></el-icon>\n          <span>{{ username }}</span>\n        </div>\n        <template #dropdown>\n          <el-dropdown-menu>\n            <el-dropdown-item command=\"logout\">退出登录</el-dropdown-item>\n          </el-dropdown-menu>\n        </template>\n      </el-dropdown>\n    </div>\n    \n    <!-- 侧边导航栏 -->\n    <div class=\"side-nav\">\n      <div class=\"nav-header\">\n        <div class=\"logo-container\" @click=\"$router.push('/')\">\n          <img class=\"logo\" src=\"@/assets/logo.png\" alt=\"Logo\">\n        </div>\n      </div>\n\n      <div class=\"nav-menu\">\n        <div \n          class=\"nav-item\" \n          :class=\"{ active: $route.path === '/create' }\"\n          @click=\"$router.push('/create')\"\n        >\n          <el-icon><EditPen /></el-icon>\n          <span class=\"item-label\">编辑</span>\n          <div class=\"tooltip\">创建题目或题解</div>\n        </div>\n\n        <div \n          class=\"nav-item\" \n          :class=\"{ active: $route.path === '/problems' }\"\n          @click=\"$router.push('/problems')\"\n        >\n          <el-icon><Collection /></el-icon>\n          <span class=\"item-label\">题库</span>\n          <div class=\"tooltip\">浏览所有题目</div>\n        </div>\n\n        <div \n          class=\"nav-item\" \n          :class=\"{ active: $route.path === '/solutions' }\"\n          @click=\"$router.push('/solutions')\"\n        >\n          <el-icon><Reading /></el-icon>\n          <span class=\"item-label\">题解</span>\n          <div class=\"tooltip\">查看解题思路</div>\n        </div>\n\n        <div \n          class=\"nav-item\" \n          :class=\"{ active: $route.path === '/drafts' }\"\n          @click=\"$router.push('/drafts')\"\n        >\n          <el-icon><Document /></el-icon>\n          <span class=\"item-label\">草稿</span>\n          <div class=\"tooltip\">临时保存草稿</div>\n        </div>\n\n        <div \n          class=\"nav-item\" \n          :class=\"{ active: $route.path === '/trash' }\"\n          @click=\"$router.push('/trash')\"\n        >\n          <el-icon><Delete /></el-icon>\n          <span class=\"item-label\">回收站</span>\n          <div class=\"tooltip\">已删除的内容</div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n\n<script>\nimport { \n  EditPen, \n  Collection, \n  Reading, \n  Document,\n  User,\n  Delete \n} from '@element-plus/icons-vue'\nimport { ElMessage } from 'element-plus'\n\nexport default {\n  name: 'AppHeader',\n  components: {\n    EditPen,\n    Collection,\n    Reading,\n    Document,\n    User,\n    Delete\n  },\n  data() {\n    return {\n      username: '用户'\n    }\n  },\n  created() {\n    const userInfoStr = localStorage.getItem('user_info')\n    if (userInfoStr) {\n      try {\n        const userInfo = JSON.parse(userInfoStr)\n        this.username = userInfo.username || '用户'\n      } catch (e) {\n        console.error('解析用户信息失败:', e)\n      }\n    }\n  },\n  methods: {\n    handleCommand(command) {\n      if (command === 'logout') {\n        this.handleLogout()\n      }\n    },\n    handleLogout() {\n      localStorage.removeItem('access_token')\n      localStorage.removeItem('refresh_token')\n      localStorage.removeItem('user_info')\n      \n      ElMessage.success('已退出登录')\n      this.$router.push('/login')\n    }\n  }\n}\n</script>\n\n<style scoped>\n.header-container {\n  padding: 0;\n  margin: 0;\n  position: relative;\n}\n\n.side-nav {\n  position: fixed;\n  left: 0;\n  top: 0; /* 确保完全从顶部开始 */\n  bottom: 0;\n  width: 60px;\n  background: #2c2c2c;\n  color: #fff;\n  display: flex;\n  flex-direction: column;\n  z-index: 100;\n  padding: 0; /* 移除所有内边距 */\n  margin: 0; /* 移除所有边距 */\n}\n\n.nav-header {\n  padding: 16px 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n  margin: 0; /* 确保没有外边距 */\n}\n\n.logo-container {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  margin: 0; /* 确保没有外边距 */\n}\n\n.logo {\n  height: 36px;\n  width: 36px;\n}\n\n.nav-menu {\n  flex: 1;\n  padding: 16px 0;\n  margin: 0; /* 确保没有外边距 */\n}\n\n.nav-item {\n  padding: 16px 0;\n  cursor: pointer;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  position: relative;\n  color: rgba(255, 255, 255, 0.7);\n  transition: all 0.3s;\n  margin: 0; /* 确保没有外边距 */\n}\n\n.nav-item:hover {\n  color: #fff;\n  background: rgba(255, 255, 255, 0.1);\n}\n\n.nav-item.active {\n  color: #fff;\n  background: rgba(255, 255, 255, 0.15);\n  border-left: 3px solid #fff;\n}\n\n.nav-item .el-icon {\n  font-size: 24px;\n  margin-bottom: 8px;\n}\n\n.item-label {\n  font-size: 12px;\n}\n\n.tooltip {\n  position: absolute;\n  background: rgba(0, 0, 0, 0.8);\n  color: #fff;\n  padding: 6px 12px;\n  border-radius: 4px;\n  font-size: 12px;\n  left: 100%;\n  top: 50%;\n  transform: translateY(-50%);\n  white-space: nowrap;\n  opacity: 0;\n  visibility: hidden;\n  transition: all 0.3s;\n  z-index: 10;\n}\n\n.tooltip:before {\n  content: \"\";\n  position: absolute;\n  left: -6px;\n  top: 50%;\n  transform: translateY(-50%);\n  border-width: 6px 6px 6px 0;\n  border-style: solid;\n  border-color: transparent rgba(0, 0, 0, 0.8) transparent transparent;\n}\n\n.nav-item:hover .tooltip {\n  opacity: 1;\n  visibility: visible;\n  left: calc(100% + 10px);\n}\n\n/* 用户区域样式 - 浅色方案 */\n.user-area {\n  position: fixed;\n  top: 12px;\n  right: 20px;\n  display: flex;\n  align-items: center;\n  z-index: 101;\n  margin: 0;\n}\n\n.user-info {\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n  padding: 8px 16px;\n  background: rgba(255, 255, 255, 0.85);\n  color: #333;\n  border-radius: 24px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\n  transition: all 0.3s;\n  border: 1px solid rgba(0, 0, 0, 0.08);\n}\n\n.user-info:hover {\n  background: #fff;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n  transform: translateY(-2px);\n}\n\n.user-info .el-icon {\n  margin-right: 8px;\n  color: #666;\n  font-size: 16px;\n}\n\n.user-info:hover .el-icon {\n  color: #409EFF;\n}\n\n/* 优化下拉菜单样式 - 浅色方案 */\n:deep(.el-dropdown-menu) {\n  background-color: #fff;\n  border: 1px solid rgba(0, 0, 0, 0.08);\n  border-radius: 8px;\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);\n  margin-top: 8px;\n  padding: 4px 0;\n}\n\n:deep(.el-dropdown-menu__item) {\n  color: #333;\n  padding: 10px 20px;\n  font-size: 14px;\n}\n\n:deep(.el-dropdown-menu__item:hover) {\n  background-color: #f6f9ff;\n  color: #409EFF;\n}\n\n:deep(.el-dropdown-menu__item:focus) {\n  background-color: #f6f9ff;\n  color: #409EFF;\n}\n\n/* 响应式设计 */\n@media screen and (max-width: 768px) {\n  .item-label {\n    font-size: 10px;\n  }\n  \n  .user-info span {\n    display: none; /* 在小屏幕上只显示图标 */\n  }\n  \n  .user-info {\n    padding: 12px;\n  }\n  \n  .user-info .el-icon {\n    margin-right: 0;\n  }\n}\n</style>"],"mappings":";AAkFA,SACEA,OAAO,EACPC,UAAU,EACVC,OAAO,EACPC,QAAQ,EACRC,IAAI,EACJC,MAAK,QACA,yBAAwB;AAC/B,SAASC,SAAQ,QAAS,cAAa;AAEvC,eAAe;EACbC,IAAI,EAAE,WAAW;EACjBC,UAAU,EAAE;IACVR,OAAO;IACPC,UAAU;IACVC,OAAO;IACPC,QAAQ;IACRC,IAAI;IACJC;EACF,CAAC;EACDI,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,QAAQ,EAAE;IACZ;EACF,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,MAAMC,WAAU,GAAIC,YAAY,CAACC,OAAO,CAAC,WAAW;IACpD,IAAIF,WAAW,EAAE;MACf,IAAI;QACF,MAAMG,QAAO,GAAIC,IAAI,CAACC,KAAK,CAACL,WAAW;QACvC,IAAI,CAACF,QAAO,GAAIK,QAAQ,CAACL,QAAO,IAAK,IAAG;MAC1C,EAAE,OAAOQ,CAAC,EAAE;QACVC,OAAO,CAACC,KAAK,CAAC,WAAW,EAAEF,CAAC;MAC9B;IACF;EACF,CAAC;EACDG,OAAO,EAAE;IACPC,aAAaA,CAACC,OAAO,EAAE;MACrB,IAAIA,OAAM,KAAM,QAAQ,EAAE;QACxB,IAAI,CAACC,YAAY,CAAC;MACpB;IACF,CAAC;IACDA,YAAYA,CAAA,EAAG;MACbX,YAAY,CAACY,UAAU,CAAC,cAAc;MACtCZ,YAAY,CAACY,UAAU,CAAC,eAAe;MACvCZ,YAAY,CAACY,UAAU,CAAC,WAAW;MAEnCnB,SAAS,CAACoB,OAAO,CAAC,OAAO;MACzB,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,QAAQ;IAC5B;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}