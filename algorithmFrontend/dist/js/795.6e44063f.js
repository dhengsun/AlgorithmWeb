"use strict";(self["webpackChunkvue_django_frontend"]=self["webpackChunkvue_django_frontend"]||[]).push([[795],{2196:function(t,e,a){a.d(e,{PU:function(){return i},dv:function(){return n},ur:function(){return s}});a(4114),a(8111),a(7588);const n=["Shell","二分查找","二叉搜索树","二叉树","交互","位运算","分治","前缀和","单向链表","单调栈","单调队列","双向链表","双指针","双连通分量","后缀数组","哈希函数","哈希表","图","基数排序","堆（优先队列）","字典树","字符串","字符串匹配","归并排序","快速选择","扫描线","拒绝采样","拓扑排序","排序","数论","数学","数据库","数据流","数组","最小生成树","最短路","有序集合","栈","树","树状数组","欧拉回路","概率与统计","模拟","滑动窗口","滚动哈希","深度优先搜索","状态压缩","矩阵","线段树","组合数学","脑筋急转弯","计数","计数排序","设计","贪心","迭代器","递归","链表","队列","随机化","集合","几何","动态规划","博弈","并查集","广度优先搜索","强连通分量","桶排序","水塘抽样","记忆化搜索","回溯","多线程","枚举"],s=["入门","普及-","普及/提高-","普及+/提高","提高+/省选-","省选/NOI-","NOI/NOI+","CTSC"],i=["简单","中等","困难"]},2846:function(t,e,a){a.d(e,{BP:function(){return s},Hd:function(){return h},YW:function(){return o},bU:function(){return g},hG:function(){return l},l:function(){return p},r:function(){return d},so:function(){return i},sr:function(){return r},ul:function(){return u},wE:function(){return c}});var n=a(1184);function s(t={},e=1){return(0,n.A)({url:"/api/questions/",method:"post",params:{page:e},data:t,headers:{"Content-Type":"application/json"}})}function i(t){return(0,n.A)({url:`/questions/${t}/`,method:"get"})}const o=t=>(0,n.A)({url:"/api/questions/search/",method:"get",params:t});function l(t){return(0,n.A)({url:"/api/questions/create/",method:"post",data:t})}function u(t){return(0,n.A)({url:"/api/questions/delete/",method:"post",data:t})}function r(t,e){return(0,n.A)({url:`/questions/${t}/update/`,method:"put",data:e})}function c(t){return(0,n.A)({url:"/api/questions/extract/",method:"post",data:t})}const d=()=>(0,n.A)({url:"/api/tags/",method:"get"}),g=t=>(0,n.A)({url:"/api/questions/trash/",method:"get",params:t}),h=t=>(0,n.A)({url:"/api/questions/trash/search/",method:"get",params:t});function p(t){return(0,n.A)({url:"/api/questions/restore/",method:"post",data:t})}},4795:function(t,e,a){a.r(e),a.d(e,{default:function(){return I}});var n=a(6768),s=a(5130),i=a(4232);const o={class:"solutions-view"},l={class:"page-container"},u={class:"solutions-header"},r={class:"filter-container"},c={class:"search-box"},d={class:"language-filter"},g={class:"content-area"},h={key:0,class:"loading-container"},p={key:1,class:"empty-state"},f=["onClick"],m={class:"solution-card-header"},v={class:"header-left-section"},k={class:"problem-id-highlight"},y={key:0,class:"platform-tag"},_={class:"solution-card-content"},C=["onClick"],L={key:0},b={key:1},q={key:0},A={key:1},S={key:0,class:"tags-container"},D={class:"tag-container"},w={class:"solution-preview"},P={class:"solution-card-footer"},T={class:"solution-meta"},$={class:"solution-date"},F={key:3,class:"pagination-container"};function E(t,e,a,E,X,Q){const j=(0,n.g2)("AppHeader"),W=(0,n.g2)("el-button"),M=(0,n.g2)("el-input"),N=(0,n.g2)("el-option"),z=(0,n.g2)("el-select"),I=(0,n.g2)("el-skeleton"),K=(0,n.g2)("el-tag"),R=(0,n.g2)("el-pagination");return(0,n.uX)(),(0,n.CE)("div",o,[(0,n.bF)(j),(0,n.Lk)("main",l,[(0,n.Lk)("div",u,[e[4]||(e[4]=(0,n.Lk)("h1",null,"题解回收站",-1)),e[5]||(e[5]=(0,n.Lk)("p",{class:"solutions-subtitle"},"探索高质量解题思路，提升编程能力",-1)),(0,n.Lk)("div",r,[(0,n.Lk)("div",c,[(0,n.bF)(M,{modelValue:X.searchQuery,"onUpdate:modelValue":e[0]||(e[0]=t=>X.searchQuery=t),placeholder:"输入题目ID进行搜索","prefix-icon":"el-icon-search",clearable:"",onKeyup:(0,s.jR)(Q.handleSearch,["enter"])},{append:(0,n.k6)((()=>[(0,n.bF)(W,{onClick:Q.handleSearch},{default:(0,n.k6)((()=>e[3]||(e[3]=[(0,n.eW)("搜索")]))),_:1},8,["onClick"])])),_:1},8,["modelValue","onKeyup"])]),(0,n.Lk)("div",d,[(0,n.bF)(z,{modelValue:X.selectedLanguage,"onUpdate:modelValue":e[1]||(e[1]=t=>X.selectedLanguage=t),placeholder:"编程语言筛选",clearable:"",onChange:Q.handleLanguageChange},{default:(0,n.k6)((()=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(X.languageOptions,(t=>((0,n.uX)(),(0,n.Wv)(N,{key:t.value,label:t.label,value:t.value},{default:(0,n.k6)((()=>[(0,n.Lk)("span",{class:(0,i.C4)(["language-icon","lang-"+t.value.toLowerCase()])},null,2),(0,n.eW)(" "+(0,i.v_)(t.label),1)])),_:2},1032,["label","value"])))),128))])),_:1},8,["modelValue","onChange"])])])]),(0,n.Lk)("div",g,[X.loading?((0,n.uX)(),(0,n.CE)("div",h,[(0,n.bF)(I,{rows:10,animated:""})])):0===X.solutions.length?((0,n.uX)(),(0,n.CE)("div",p,[e[7]||(e[7]=(0,n.Lk)("div",{class:"empty-icon"},[(0,n.Lk)("i",{class:"el-icon-document"})],-1)),e[8]||(e[8]=(0,n.Lk)("h3",null,"暂无题解",-1)),(0,n.Lk)("p",null,(0,i.v_)(Q.getEmptyStateMessage()),1),(0,n.bF)(W,{type:"primary",onClick:Q.resetFilters},{default:(0,n.k6)((()=>e[6]||(e[6]=[(0,n.eW)("清除筛选条件")]))),_:1},8,["onClick"])])):((0,n.uX)(),(0,n.Wv)(s.F,{key:2,name:"solution-list",tag:"div",class:"solutions-grid"},{default:(0,n.k6)((()=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(X.solutions,(t=>((0,n.uX)(),(0,n.CE)("div",{key:t.id,class:"solution-card",onClick:e=>Q.viewSolutionDetail(t.id)},[(0,n.Lk)("div",m,[(0,n.Lk)("div",v,[(0,n.Lk)("div",k," #"+(0,i.v_)(t.question_id),1),X.questionDetails[t.question_id]?.oj_platform?((0,n.uX)(),(0,n.CE)("div",y,[(0,n.bF)(K,{type:Q.getPlatformTagType(X.questionDetails[t.question_id]?.oj_platform),size:"small"},{default:(0,n.k6)((()=>[(0,n.eW)((0,i.v_)(Q.getPlatformName(X.questionDetails[t.question_id]?.oj_platform)),1)])),_:2},1032,["type"])])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",{class:(0,i.C4)(["language-tag","lang-bg-"+Q.getNormalizedLanguage(t.language)])},(0,i.v_)(Q.getDisplayLanguage(t.language)),3)]),(0,n.Lk)("div",_,[(0,n.Lk)("h3",{class:"solution-title",onClick:(0,s.D$)((e=>Q.goToProblem(t.question_id)),["stop"])},[X.questionDetails[t.question_id]?((0,n.uX)(),(0,n.CE)("span",L,(0,i.v_)(X.questionDetails[t.question_id].name||`题目 #${t.question_id}`),1)):((0,n.uX)(),(0,n.CE)("span",b,[X.detailsLoading[t.question_id]?((0,n.uX)(),(0,n.CE)("span",q,"加载中...")):((0,n.uX)(),(0,n.CE)("span",A,"题目 #"+(0,i.v_)(t.question_id),1))])),e[9]||(e[9]=(0,n.Lk)("i",{class:"el-icon-link"},null,-1))],8,C),X.questionDetails[t.question_id]?.algorithm_tags?.length?((0,n.uX)(),(0,n.CE)("div",S,[(0,n.Lk)("div",D,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(Q.getFilteredTags(X.questionDetails[t.question_id].algorithm_tags,X.questionDetails[t.question_id].oj_platform),(e=>((0,n.uX)(),(0,n.Wv)(K,{key:e,type:Q.getTagType(e,X.questionDetails[t.question_id].oj_platform),size:"small",class:"tag-item"},{default:(0,n.k6)((()=>[(0,n.eW)((0,i.v_)(Q.getTagName(e)),1)])),_:2},1032,["type"])))),128))])])):(0,n.Q3)("",!0),(0,n.Lk)("div",w,(0,i.v_)(Q.getSolutionPreview(t.content_text)),1)]),(0,n.Lk)("div",P,[(0,n.Lk)("div",T,[(0,n.Lk)("span",$,[e[10]||(e[10]=(0,n.Lk)("i",{class:"el-icon-time"},null,-1)),(0,n.eW)(" "+(0,i.v_)(Q.formatDate(t.created_at)),1)])]),(0,n.bF)(W,{size:"small",type:"text",onClick:(0,s.D$)((e=>Q.viewSolutionDetail(t.id)),["stop"])},{default:(0,n.k6)((()=>e[11]||(e[11]=[(0,n.eW)("查看全文")]))),_:2},1032,["onClick"])])],8,f)))),128))])),_:1})),X.total>0?((0,n.uX)(),(0,n.CE)("div",F,[(0,n.bF)(R,{background:"",layout:"prev, pager, next, jumper",total:X.total,"page-size":X.pageSize,"current-page":X.currentPage,"onUpdate:currentPage":e[2]||(e[2]=t=>X.currentPage=t),onCurrentChange:Q.handlePageChange},null,8,["total","page-size","current-page","onCurrentChange"])])):(0,n.Q3)("",!0)])])])}a(4114),a(8111),a(2489),a(1701),a(7642),a(8004),a(3853),a(5876),a(2475),a(5024),a(1698);var X=a(6493),Q=a(8121),j=a(2846),W=a(2196),M={name:"SolutionsView",components:{AppHeader:X.A},data(){return{solutions:[],loading:!0,total:0,currentPage:1,pageSize:12,searchQuery:"",selectedLanguage:"",questionDetails:{},detailsLoading:{},languageOptions:[{value:"Python",label:"Python"},{value:"Java",label:"Java"},{value:"C++",label:"C++"},{value:"JavaScript",label:"JavaScript"},{value:"Go",label:"Go"},{value:"Rust",label:"Rust"},{value:"C#",label:"C#"},{value:"Ruby",label:"Ruby"},{value:"Swift",label:"Swift"},{value:"Kotlin",label:"Kotlin"}],languageParamMap:{"c++":"cpp","c#":"csharp"},languageDisplayMap:{cpp:"C++",csharp:"C#"},platformMap:{luogu:"洛谷",leetcode:"LeetCode"},leetcodeTags:W.dv}},created(){this.fetchSolutions()},methods:{async fetchSolutions(){this.loading=!0;try{const t={page:this.currentPage};if(this.searchQuery.trim()&&(t.question_id=this.searchQuery.trim()),this.selectedLanguage){const e=this.selectedLanguage.toLowerCase();t.language=this.languageParamMap[e]||e}const e=await(0,Q._n)(t);e.data?Array.isArray(e.data)?(this.solutions=e.data,this.total=e.data.length):200===e.data.code&&e.data.data?Array.isArray(e.data.data)?(this.solutions=e.data.data,this.total=e.data.data.length):e.data.data.items?(this.solutions=e.data.data.items||[],this.total=e.data.data.total||this.solutions.length):(this.solutions=[],this.total=0):(this.solutions=e.data.items||e.data.results||e.data.data||[],this.total=e.data.total||e.data.count||this.solutions.length||0):(this.solutions=[],this.total=0),this.fetchQuestionDetails()}catch(t){this.$message.error("获取题解列表失败: "+(t.message||"未知错误")),this.solutions=[],this.total=0}finally{this.loading=!1}},async fetchQuestionDetails(){const t=[...new Set(this.solutions.map((t=>t.question_id)))];for(const a of t)if(!this.questionDetails[a]&&!this.detailsLoading[a]){this.detailsLoading[a]=!0;try{const t=await(0,j.so)(a);t.data&&200===t.data.code?this.questionDetails[a]=t.data.data:t.data&&(this.questionDetails[a]=t.data)}catch(e){0}finally{this.detailsLoading[a]=!1}}},getNormalizedLanguage(t){if(!t)return"";const e=t.toLowerCase(),a={cpp:"c++",csharp:"c#"};return a[e]||e},getDisplayLanguage(t){if(!t)return"";const e=t.toLowerCase();return this.languageDisplayMap[e]?this.languageDisplayMap[e]:t.charAt(0).toUpperCase()+t.slice(1)},getSolutionPreview(t){if(!t)return"无预览内容";const e=t.replace(/#{1,6}\s/g,"").replace(/\*\*|\*|~~|`|>/g,"");return e.length>100?e.substring(0,100)+"...":e},formatDate(t){if(!t)return"未知时间";const e=new Date(t);return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`},handlePageChange(t){this.currentPage=t,this.fetchSolutions(),window.scrollTo(0,0)},handleSearch(){this.currentPage=1,this.fetchSolutions()},handleLanguageChange(){this.currentPage=1,this.fetchSolutions()},resetFilters(){this.searchQuery="",this.selectedLanguage="",this.currentPage=1,this.fetchSolutions()},getEmptyStateMessage(){return this.searchQuery&&this.selectedLanguage?`没有找到关于题目 #${this.searchQuery} 的 ${this.selectedLanguage} 语言题解`:this.searchQuery?`没有找到关于题目 #${this.searchQuery} 的题解`:this.selectedLanguage?`没有找到使用 ${this.selectedLanguage} 语言的题解`:"暂时没有任何题解，成为第一个分享解题思路的人吧！"},viewSolutionDetail(t){this.$router.push(`/${t}/solutions`)},goToProblem(t){this.$router.push(`/${t}/problems`)},getPlatformName(t){return this.platformMap[t]||t},getPlatformTagType(t){return{luogu:"success",leetcode:"warning"}[t]||"info"},getFilteredTags(t,e){if(!t)return[];const a=3;if("leetcode"===e)return t.filter((t=>this.leetcodeTags.includes(t))).slice(0,a);const n=t.filter((t=>t.startsWith("Algorithm_")));return n.length>0?n.slice(0,a):t.slice(0,a)},getTagName(t){return this.leetcodeTags.includes(t)?t:t.split("_").slice(1).join("_")||t},getTagType(t,e){if("leetcode"===e)return"primary";const a=t.split("_")[0];return{Algorithm:"primary",Source:"success",Time:"warning",Region:"danger",Other:"info"}[a]||"info"}}},N=a(1241);const z=(0,N.A)(M,[["render",E],["__scopeId","data-v-006d30b6"]]);var I=z},8121:function(t,e,a){a.d(e,{J1:function(){return d},Nc:function(){return u},R1:function(){return g},S1:function(){return o},Tu:function(){return c},Up:function(){return s},_n:function(){return i},jA:function(){return h},n6:function(){return r},uA:function(){return l}});var n=a(1184);function s(t){return(0,n.A)({url:"/api/solutions/",method:"get",params:t})}function i(t){return(0,n.A)({url:"/api/solutions/trash/",method:"get",params:t})}function o(t){return(0,n.A)({url:"/api/drafts/",method:"get",params:t})}function l(t){return(0,n.A)({url:"/api/drafts/trash/",method:"get",params:t})}function u(t){return(0,n.A)({url:`/solutions/${t}/`,method:"get"})}function r(t){return(0,n.A)({url:`/drafts/${t}/`,method:"get"})}function c(t){return(0,n.A)({url:"/api/solution/create/",method:"post",data:t})}function d(t){return(0,n.A)({url:"/api/solution/draft/",method:"post",data:t})}function g(t,e){return(0,n.A)({url:`/solutions/${t}/update/`,method:"put",data:e})}function h(t,e){return(0,n.A)({url:`/drafts/${t}/update/`,method:"put",data:e})}}}]);
//# sourceMappingURL=795.6e44063f.js.map