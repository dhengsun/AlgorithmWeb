(function(){"use strict";var e={6493:function(e,t,n){n.d(t,{A:function(){return g}});n(4114);var o=n(6768),r=n(4232),a=n.p+"img/logo.20a9ca4c.png";const i={class:"header-container"},u={class:"user-area"},s={class:"user-info"},l={class:"side-nav"},c={class:"nav-header"},d={class:"nav-menu"};function m(e,t,n,m,h,p){const f=(0,o.g2)("User"),b=(0,o.g2)("el-icon"),v=(0,o.g2)("el-dropdown-item"),g=(0,o.g2)("el-dropdown-menu"),k=(0,o.g2)("el-dropdown"),A=(0,o.g2)("EditPen"),C=(0,o.g2)("Collection"),y=(0,o.g2)("Reading"),L=(0,o.g2)("Document"),_=(0,o.g2)("Delete");return(0,o.uX)(),(0,o.CE)("div",i,[(0,o.Lk)("div",u,[(0,o.bF)(k,{trigger:"click",onCommand:p.handleCommand},{dropdown:(0,o.k6)((()=>[(0,o.bF)(g,null,{default:(0,o.k6)((()=>[(0,o.bF)(v,{command:"logout"},{default:(0,o.k6)((()=>t[6]||(t[6]=[(0,o.eW)("退出登录")]))),_:1})])),_:1})])),default:(0,o.k6)((()=>[(0,o.Lk)("div",s,[(0,o.bF)(b,null,{default:(0,o.k6)((()=>[(0,o.bF)(f)])),_:1}),(0,o.Lk)("span",null,(0,r.v_)(h.username),1)])])),_:1},8,["onCommand"])]),(0,o.Lk)("div",l,[(0,o.Lk)("div",c,[(0,o.Lk)("div",{class:"logo-container",onClick:t[0]||(t[0]=t=>e.$router.push("/"))},t[7]||(t[7]=[(0,o.Lk)("img",{class:"logo",src:a,alt:"Logo"},null,-1)]))]),(0,o.Lk)("div",d,[(0,o.Lk)("div",{class:(0,r.C4)(["nav-item",{active:"/create"===e.$route.path}]),onClick:t[1]||(t[1]=t=>e.$router.push("/create"))},[(0,o.bF)(b,null,{default:(0,o.k6)((()=>[(0,o.bF)(A)])),_:1}),t[8]||(t[8]=(0,o.Lk)("span",{class:"item-label"},"编辑",-1)),t[9]||(t[9]=(0,o.Lk)("div",{class:"tooltip"},"创建题目或题解",-1))],2),(0,o.Lk)("div",{class:(0,r.C4)(["nav-item",{active:"/problems"===e.$route.path}]),onClick:t[2]||(t[2]=t=>e.$router.push("/problems"))},[(0,o.bF)(b,null,{default:(0,o.k6)((()=>[(0,o.bF)(C)])),_:1}),t[10]||(t[10]=(0,o.Lk)("span",{class:"item-label"},"题库",-1)),t[11]||(t[11]=(0,o.Lk)("div",{class:"tooltip"},"浏览所有题目",-1))],2),(0,o.Lk)("div",{class:(0,r.C4)(["nav-item",{active:"/solutions"===e.$route.path}]),onClick:t[3]||(t[3]=t=>e.$router.push("/solutions"))},[(0,o.bF)(b,null,{default:(0,o.k6)((()=>[(0,o.bF)(y)])),_:1}),t[12]||(t[12]=(0,o.Lk)("span",{class:"item-label"},"题解",-1)),t[13]||(t[13]=(0,o.Lk)("div",{class:"tooltip"},"查看解题思路",-1))],2),(0,o.Lk)("div",{class:(0,r.C4)(["nav-item",{active:"/drafts"===e.$route.path}]),onClick:t[4]||(t[4]=t=>e.$router.push("/drafts"))},[(0,o.bF)(b,null,{default:(0,o.k6)((()=>[(0,o.bF)(L)])),_:1}),t[14]||(t[14]=(0,o.Lk)("span",{class:"item-label"},"草稿",-1)),t[15]||(t[15]=(0,o.Lk)("div",{class:"tooltip"},"临时保存草稿",-1))],2),(0,o.Lk)("div",{class:(0,r.C4)(["nav-item",{active:"/trash"===e.$route.path}]),onClick:t[5]||(t[5]=t=>e.$router.push("/trash"))},[(0,o.bF)(b,null,{default:(0,o.k6)((()=>[(0,o.bF)(_)])),_:1}),t[16]||(t[16]=(0,o.Lk)("span",{class:"item-label"},"回收站",-1)),t[17]||(t[17]=(0,o.Lk)("div",{class:"tooltip"},"已删除的内容",-1))],2)])])])}var h=n(7477),p=n(1219),f={name:"AppHeader",components:{EditPen:h.EDh,Collection:h.pMc,Reading:h.zKN,Document:h.yoT,User:h.KJW,Delete:h.epd},data(){return{username:"用户"}},created(){const e=localStorage.getItem("user_info");if(e)try{const t=JSON.parse(e);this.username=t.username||"用户"}catch(t){console.error("解析用户信息失败:",t)}},methods:{handleCommand(e){"logout"===e&&this.handleLogout()},handleLogout(){localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("user_info"),p.nk.success("已退出登录"),this.$router.push("/login")}}},b=n(1241);const v=(0,b.A)(f,[["render",m],["__scopeId","data-v-c64bb300"]]);var g=v},7113:function(e,t,n){var o=n(5130),r=n(6768),a=n(4232);const i={id:"main-container"};function u(e,t,n,o,u,s){const l=(0,r.g2)("AppHeader"),c=(0,r.g2)("router-view");return(0,r.uX)(),(0,r.CE)("div",i,[e.$route.meta.hideHeader?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.Wv)(l,{key:0})),(0,r.Lk)("div",{class:(0,a.C4)(["content-container",{"no-header":e.$route.meta.hideHeader}])},[(0,r.bF)(c)],2)])}n(4114);var s=n(6493),l=n(144),c={name:"App",components:{AppHeader:s.A},setup(){const e=(0,l.KR)(!1);return(0,r.Gt)("isCollapsed",e),{isCollapsed:e}},mounted(){console.log("App组件已挂载"),this.checkAuth()},methods:{checkAuth(){const e=localStorage.getItem("access_token");!e&&this.$route.meta.requiresAuth&&this.$router.push("/login")}},errorCaptured(e,t,n){return console.error("App捕获到错误:",e),console.error("错误信息:",n),!1}},d=n(1241);const m=(0,d.A)(c,[["render",u]]);var h=m,p=n(9325),f=n(1128);n(4188);console.log("Vue应用初始化开始");const b=(0,o.Ef)(h);b.use(f.A),b.use(p.A),b.config.errorHandler=(e,t,n)=>{console.error("Vue错误:",e),console.error("错误信息:",n)},console.log("挂载Vue应用到#app元素"),b.mount("#app"),console.log("Vue应用挂载完成")},9325:function(e,t,n){n(8111),n(3579);var o=n(1387);const r=[{path:"/login",name:"LoginView",component:()=>Promise.all([n.e(184),n.e(367)]).then(n.bind(n,9367)),meta:{hideHeader:!0,guest:!0}},{path:"/",name:"HomeView",component:()=>Promise.all([n.e(184),n.e(472)]).then(n.bind(n,4472)),meta:{requiresAuth:!0}},{path:"/problems",name:"ProblemsView",component:()=>Promise.all([n.e(184),n.e(559)]).then(n.bind(n,5559)),meta:{requiresAuth:!0}},{path:"/solutions",name:"SolutionsView",component:()=>Promise.all([n.e(184),n.e(34)]).then(n.bind(n,2034)),meta:{requiresAuth:!0}},{path:"/solutions/trash",name:"SolutionTrashView",component:()=>Promise.all([n.e(184),n.e(795)]).then(n.bind(n,4795)),meta:{requiresAuth:!0}},{path:"/drafts/trash",name:"DraftTrashView",component:()=>Promise.all([n.e(184),n.e(42)]).then(n.bind(n,42)),meta:{requiresAuth:!0}},{path:"/drafts",name:"DraftsView",component:()=>Promise.all([n.e(184),n.e(807)]).then(n.bind(n,4807)),meta:{requiresAuth:!0}},{path:"/create",name:"Create",component:()=>n.e(806).then(n.bind(n,7806)),meta:{requiresAuth:!0}},{path:"/create/solution",name:"CreateSolution",component:()=>Promise.all([n.e(184),n.e(921),n.e(739)]).then(n.bind(n,7739)),meta:{requiresAuth:!0}},{path:"/create/question",name:"CreateQuestion",component:()=>Promise.all([n.e(184),n.e(921),n.e(127)]).then(n.bind(n,2127)),meta:{requiresAuth:!0}},{path:"/questions/update/:id?",name:"QuestionUpdate",component:()=>Promise.all([n.e(184),n.e(921),n.e(412)]).then(n.bind(n,3412)),meta:{requiresAuth:!0}},{path:"/trash",name:"Trash",component:()=>n.e(498).then(n.bind(n,9498)),meta:{requiresAuth:!0}},{path:"/problems/trash",name:"ProblemsTrash",component:()=>Promise.all([n.e(184),n.e(766)]).then(n.bind(n,766)),meta:{requiresAuth:!0}},{path:"/:id/problems",name:"QuestionDetail",component:()=>Promise.all([n.e(184),n.e(921),n.e(955)]).then(n.bind(n,3955)),meta:{requiresAuth:!0}},{path:"/:id/solutions",name:"SolutionDetail",component:()=>Promise.all([n.e(184),n.e(921),n.e(779)]).then(n.bind(n,4779)),meta:{requiresAuth:!0}},{path:"/:id/drafts",name:"DraftDetail",component:()=>Promise.all([n.e(184),n.e(921),n.e(699)]).then(n.bind(n,2699)),meta:{requiresAuth:!0}},{path:"/:id/solutions/update",name:"Solution/update",component:()=>Promise.all([n.e(184),n.e(921),n.e(933)]).then(n.bind(n,8933)),meta:{requiresAuth:!0}},{path:"/:id/drafts/update",name:"Draft/update",component:()=>Promise.all([n.e(184),n.e(921),n.e(714)]).then(n.bind(n,5714)),meta:{requiresAuth:!0}},{path:"/:catchAll(.*)",name:"NotFound",component:()=>n.e(538).then(n.bind(n,5538)),meta:{hideHeader:!0}}],a=(0,o.aE)({history:(0,o.LA)("/"),routes:r});a.beforeEach(((e,t,n)=>{console.log("路由切换:",e.path);const o=localStorage.getItem("access_token");e.matched.some((e=>e.meta.requiresAuth))&&!o?(console.log("需要登录权限，重定向到登录页"),n({path:"/login",query:{redirect:e.fullPath}})):e.matched.some((e=>e.meta.guest))&&o?(console.log("已登录用户访问登录页，重定向到首页"),n({path:"/"})):n()})),t.A=a}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={exports:{}};return e[o].call(a.exports,a,a.exports,n),a.exports}n.m=e,function(){var e=[];n.O=function(t,o,r,a){if(!o){var i=1/0;for(c=0;c<e.length;c++){o=e[c][0],r=e[c][1],a=e[c][2];for(var u=!0,s=0;s<o.length;s++)(!1&a||i>=a)&&Object.keys(n.O).every((function(e){return n.O[e](o[s])}))?o.splice(s--,1):(u=!1,a<i&&(i=a));if(u){e.splice(c--,1);var l=r();void 0!==l&&(t=l)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[o,r,a]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,o){return n.f[o](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/"+e+"."+{34:"50431c9a",42:"e89c8b62",127:"00c2936b",184:"4e2c1254",367:"4cc7ce47",412:"bcb30a60",472:"a5abcd59",498:"5b95c17c",538:"ee102d39",559:"b31f897b",699:"56f18ebc",714:"019bc9c9",739:"d62a35c2",766:"b6478535",779:"7395b5c7",795:"6e44063f",806:"60ef9660",807:"70730f03",921:"f3bede31",933:"66f371e7",955:"60da68d7"}[e]+".js"}}(),function(){n.miniCssF=function(e){return"css/"+e+"."+{34:"64a21d93",42:"0b1cecad",127:"eea65bf0",367:"f2c988e1",412:"7bd0c456",472:"1f334a49",498:"00ea57c6",538:"b152f361",559:"13b50a91",699:"377b8b28",714:"d2630cc6",739:"b0434071",766:"b931a4d8",779:"31d14846",795:"b02007b2",806:"70cf2b8a",807:"0c23f608",933:"7122be12",955:"d634716a"}[e]+".css"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="vue-django-frontend:";n.l=function(o,r,a,i){if(e[o])e[o].push(r);else{var u,s;if(void 0!==a)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var d=l[c];if(d.getAttribute("src")==o||d.getAttribute("data-webpack")==t+a){u=d;break}}u||(s=!0,u=document.createElement("script"),u.charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+a),u.src=o),e[o]=[r];var m=function(t,n){u.onerror=u.onload=null,clearTimeout(h);var r=e[o];if(delete e[o],u.parentNode&&u.parentNode.removeChild(u),r&&r.forEach((function(e){return e(n)})),t)return t(n)},h=setTimeout(m.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=m.bind(null,u.onerror),u.onload=m.bind(null,u.onload),s&&document.head.appendChild(u)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p="/"}(),function(){if("undefined"!==typeof document){var e=function(e,t,o,r,a){var i=document.createElement("link");i.rel="stylesheet",i.type="text/css",n.nc&&(i.nonce=n.nc);var u=function(n){if(i.onerror=i.onload=null,"load"===n.type)r();else{var o=n&&n.type,u=n&&n.target&&n.target.href||t,s=new Error("Loading CSS chunk "+e+" failed.\n("+o+": "+u+")");s.name="ChunkLoadError",s.code="CSS_CHUNK_LOAD_FAILED",s.type=o,s.request=u,i.parentNode&&i.parentNode.removeChild(i),a(s)}};return i.onerror=i.onload=u,i.href=t,o?o.parentNode.insertBefore(i,o.nextSibling):document.head.appendChild(i),i},t=function(e,t){for(var n=document.getElementsByTagName("link"),o=0;o<n.length;o++){var r=n[o],a=r.getAttribute("data-href")||r.getAttribute("href");if("stylesheet"===r.rel&&(a===e||a===t))return r}var i=document.getElementsByTagName("style");for(o=0;o<i.length;o++){r=i[o],a=r.getAttribute("data-href");if(a===e||a===t)return r}},o=function(o){return new Promise((function(r,a){var i=n.miniCssF(o),u=n.p+i;if(t(i,u))return r();e(o,u,null,r,a)}))},r={524:0};n.f.miniCss=function(e,t){var n={34:1,42:1,127:1,367:1,412:1,472:1,498:1,538:1,559:1,699:1,714:1,739:1,766:1,779:1,795:1,806:1,807:1,933:1,955:1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=o(e).then((function(){r[e]=0}),(function(t){throw delete r[e],t})))}}}(),function(){var e={524:0};n.f.j=function(t,o){var r=n.o(e,t)?e[t]:void 0;if(0!==r)if(r)o.push(r[2]);else{var a=new Promise((function(n,o){r=e[t]=[n,o]}));o.push(r[2]=a);var i=n.p+n.u(t),u=new Error,s=function(o){if(n.o(e,t)&&(r=e[t],0!==r&&(e[t]=void 0),r)){var a=o&&("load"===o.type?"missing":o.type),i=o&&o.target&&o.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+i+")",u.name="ChunkLoadError",u.type=a,u.request=i,r[1](u)}};n.l(i,s,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,o){var r,a,i=o[0],u=o[1],s=o[2],l=0;if(i.some((function(t){return 0!==e[t]}))){for(r in u)n.o(u,r)&&(n.m[r]=u[r]);if(s)var c=s(n)}for(t&&t(o);l<i.length;l++)a=i[l],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(c)},o=self["webpackChunkvue_django_frontend"]=self["webpackChunkvue_django_frontend"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[504],(function(){return n(7113)}));o=n.O(o)})();
//# sourceMappingURL=app.2a588ef3.js.map